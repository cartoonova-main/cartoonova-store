{%- render 'section-spacing-collapsing' -%}

<style>
  #shopify-section-{{ section.id }} {
    background: #ffffff;
  }

  .product-benefits {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--spacing-12) var(--container-gutter);
  }

  .product-benefits__header {
    text-align: center;
    margin-bottom: var(--spacing-12);
  }

  .product-benefits__title {
    font-size: clamp(1.8rem, 4vw, 2.8rem);
    font-weight: 800;
    line-height: 1.2;
    color: #1a1a1a;
    margin: 0;
  }

  .product-benefits__title-highlight {
    color: #E8B923;
    display: block;
  }

  .product-benefits__content {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--spacing-10);
    align-items: center;
  }

  @media screen and (min-width: 900px) {
    .product-benefits__content {
      grid-template-columns: 1fr 1fr;
      gap: var(--spacing-12);
    }
  }

  .product-benefits__list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-8);
  }

  .product-benefits__item {
    display: flex;
    gap: var(--spacing-5);
    align-items: flex-start;
  }

  .product-benefits__icon {
    flex-shrink: 0;
    width: 50px;
    height: 50px;
    background: transparent;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .product-benefits__icon svg {
    width: 32px;
    height: 32px;
    color: #E8B923;
    stroke-width: 1.5;
  }

  .product-benefits__item-content {
    flex: 1;
  }

  .product-benefits__item-title {
    font-size: 1.1rem;
    font-weight: 700;
    color: #1a1a1a;
    margin: 0 0 6px 0;
    line-height: 1.3;
  }

  .product-benefits__item-description {
    font-size: 0.9rem;
    color: #777;
    line-height: 1.5;
    margin: 0;
    font-style: italic;
  }

  .product-benefits__image-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .product-benefits__image {
    width: 100%;
    max-width: 450px;
  }

  @media screen and (max-width: 899px) {
    .product-benefits__image-wrapper {
      order: -1;
    }

    .product-benefits__image {
      max-width: 350px;
    }
  }
</style>

<div class="product-benefits">
  <div class="product-benefits__header">
    <h2 class="product-benefits__title">
      {{ section.settings.title_line1 }}
      <span class="product-benefits__title-highlight">{{ section.settings.title_line2 }}</span>
    </h2>
  </div>

  <div class="product-benefits__content">
    <div class="product-benefits__list">
      {%- for block in section.blocks -%}
        <div class="product-benefits__item" {{ block.shopify_attributes }}>
          <div class="product-benefits__icon">
            {%- case block.settings.icon -%}
              {%- when 'revision' -%}
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
                </svg>
              {%- when 'artist' -%}
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                </svg>
              {%- when 'shipping' -%}
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              {%- when 'reviews' -%}
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
                </svg>
              {%- else -%}
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                </svg>
            {%- endcase -%}
          </div>
          <div class="product-benefits__item-content">
            <h3 class="product-benefits__item-title">{{ block.settings.title }}</h3>
            <p class="product-benefits__item-description">{{ block.settings.description }}</p>
          </div>
        </div>
      {%- endfor -%}
    </div>

    <div class="product-benefits__image-wrapper">
      {%- if section.settings.image != blank -%}
        {{ section.settings.image | image_url: width: 900 | image_tag: class: 'product-benefits__image', loading: 'lazy' }}
      {%- else -%}
        <div class="product-benefits__image" style="background: #ddd; aspect-ratio: 4/3;"></div>
      {%- endif -%}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Product Benefits",
  "class": "shopify-section--product-benefits",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "title_line1",
      "label": "Title line 1",
      "default": "Surprise Your Loved Ones with a"
    },
    {
      "type": "text",
      "id": "title_line2",
      "label": "Title line 2 (highlighted)",
      "default": "Custom Simpsons-Style Portrait"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    }
  ],
  "blocks": [
    {
      "type": "benefit",
      "name": "Benefit",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "options": [
            { "value": "revision", "label": "Revision/Pencil" },
            { "value": "artist", "label": "Heart/Artist" },
            { "value": "shipping", "label": "Clock/Shipping" },
            { "value": "reviews", "label": "Star/Reviews" },
            { "value": "check", "label": "Checkmark" }
          ],
          "default": "check"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Benefit Title"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Benefit description goes here."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product Benefits",
      "blocks": [
        {
          "type": "benefit",
          "settings": {
            "icon": "revision",
            "title": "Unlimited Free Revisions — Happiness Guaranteed",
            "description": "We perfect your cartoon portrait until you love it. Every detail is customized to your photos."
          }
        },
        {
          "type": "benefit",
          "settings": {
            "icon": "artist",
            "title": "100% Hand-Drawn by Professional Artists",
            "description": "No AI filters — your Simpsons-style portrait is created by real artists for a one-of-a-kind gift."
          }
        },
        {
          "type": "benefit",
          "settings": {
            "icon": "shipping",
            "title": "Fast Artwork, Clear Shipping",
            "description": "First draft in 2–3 days. Merchandise ships 4–12 business days after your approval."
          }
        },
        {
          "type": "benefit",
          "settings": {
            "icon": "reviews",
            "title": "15,800+ 5-Star Reviews Worldwide",
            "description": "Join thousands who love gifting personalized cartoon portraits that bring laughter and unforgettable memories."
          }
        }
      ]
    }
  ]
}
{% endschema %}
